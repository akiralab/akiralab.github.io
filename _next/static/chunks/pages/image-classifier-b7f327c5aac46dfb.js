(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[659],{8589:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/image-classifier",function(){return r(8774)}])},8774:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return j}});var n=r(5893),a=r(7376),i=r(4051),c=r.n(i),s=r(7294),o=[{text:"cat",value:"https://i.imgur.com/CzXTtJV.jpg"},{text:"dog",value:"https://i.imgur.com/OB0y6MR.jpg"},{text:"cheetah",value:"https://farm2.staticflickr.com/1533/26541536141_41abe98db3_z_d.jpg"},{text:"bird",value:"https://farm4.staticflickr.com/3075/3168662394_7d7103de7d_z_d.jpg"},{text:"lighthouse",value:"https://farm3.staticflickr.com/2220/1572613671_7311098b76_z_d.jpg"},{text:"sailboat",value:"https://farm7.staticflickr.com/6089/6115759179_86316c08ff_z_d.jpg"},{text:"cello",value:"https://farm2.staticflickr.com/1090/4595137268_0e3f2b9aa7_z_d.jpg"},{text:"piano",value:"https://farm4.staticflickr.com/3224/3081748027_0ee3d59fea_z_d.jpg"},{text:"apple",value:"https://farm8.staticflickr.com/7377/9359257263_81b080a039_z_d.jpg"},{text:"flower",value:"https://farm9.staticflickr.com/8295/8007075227_dc958c1fe6_z_d.jpg"}],l=r(5582),u=r(8005),f=r(4623),d=r(5108);function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m(t,e,r,n,a,i,c){try{var s=t[i](c),o=s.value}catch(l){return void r(l)}s.done?e(o):Promise.resolve(o).then(n,a)}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,i=[],c=!0,s=!1;try{for(r=r.call(t);!(c=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);c=!0);}catch(o){s=!0,a=o}finally{try{c||null==r.return||r.return()}finally{if(s)throw a}}return i}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(t){var e,r=(0,s.useRef)(null),a=(0,s.useState)(""),i=a[0],h=a[1],g=(0,s.useState)(""),v=g[0],x=g[1],j=(0,s.useState)(""),_=j[0],b=j[1],w=(0,s.useState)(""),y=w[0],k=w[1],Z=(0,s.useState)(""),C=Z[0],I=Z[1],N=function(){var t,r=(t=c().mark((function t(){var r,n,a,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d.log("[submitInference] getting result..."),t.t0=p,t.next=4,(0,l.g)(e.src);case 4:t.t1=t.sent,r=(0,t.t0)(t.t1,2),n=r[0],a=r[1],d.log("[submitInference] got result..."),i=n[0],d.log("[submitInference] showing result..."),h(i.name.toUpperCase()),x("".concat(i.probability.toFixed(3))),b("".concat(a," \u79d2")),I("");case 15:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function c(t){m(i,n,a,c,s,"next",t)}function s(t){m(i,n,a,c,s,"throw",t)}c(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(u.Z,{columns:3,divided:!0,children:(0,n.jsxs)(u.Z.Row,{stretched:!0,children:[(0,n.jsx)(u.Z.Column,{children:(0,n.jsx)("canvas",{ref:r,width:t.width,height:t.height})}),(0,n.jsxs)(u.Z.Column,{children:[(0,n.jsx)(f.Z,{children:(0,n.jsx)("button",{className:"ui positive button",onClick:function(){e=new Image;var n=o[Math.floor(10*Math.random()+0)];e.src=n.value,k(n.value),d.log(n.value);var a=r.current.getContext("2d");e.onload=function(){a.drawImage(e,0,0,t.width,t.height)},h(""),x(""),b(""),I("disabled")},children:"\u753b\u50cf\u3092\u8868\u793a"})}),(0,n.jsx)(f.Z,{children:(0,n.jsx)("button",{className:"ui positive button",onClick:function(){e=new Image;var n=y;e.src=n,h("\u63a8\u8ad6\u4e2d..."),x(""),b(""),I("loading");var a=r.current.getContext("2d");e.onload=function(){a.drawImage(e,0,0,t.width,t.height)},N()},children:"\u63a8\u8ad6\u3059\u308b"})})]}),(0,n.jsxs)(u.Z.Column,{children:[(0,n.jsx)(f.Z,{className:C,children:(0,n.jsxs)("p",{children:["\u63a8\u8ad6\u7d50\u679c: ",i]})}),(0,n.jsx)(f.Z,{className:C,children:(0,n.jsxs)("p",{children:["\u81ea\u4fe1: ",v]})}),(0,n.jsx)(f.Z,{className:C,children:(0,n.jsxs)("p",{children:["\u63a8\u8ad6\u6642\u9593: ",_]})})]})]})})})},v=r(5712),x=r(543),j=function(){return(0,n.jsxs)(a.Z,{children:[(0,n.jsxs)(v.Z,{text:!0,style:{marginTop:"2em"},children:[(0,n.jsx)(x.Z,{as:"h1",children:"Squeezenet\u3092\u7528\u3044\u3066ImageNet\u306e\u753b\u50cf\u3092\u5206\u985e\u3059\u308b"}),(0,n.jsx)("p",{}),(0,n.jsx)("p",{}),(0,n.jsx)("div",{children:"\u4f55\u304c\u5199\u3063\u3066\u3044\u308b\u304b\u5f53\u3066\u308b"})]}),(0,n.jsx)(g,{width:240,height:240})]})}}},function(t){t.O(0,[662,770,247,599,267,607,774,888,179],(function(){return e=8589,t(t.s=e);var e}));var e=t.O();_N_E=e}]);